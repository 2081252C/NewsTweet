@(searchForm: Form[Search], trackForm: Form[Track], user: String, bool: Integer, tweets: List[String], posTweets: List[String], posSize: Double, negTweets: List[String], negSize: Double, personaForm: Form[Persona], img: String, interestForm: Form[Interest], term: String, personas: List[String], interests: List[String], i: String)

<script sync src="https://platform.twitter.com/widgets.js"></script>
<script src="http://code.jquery.com/jquery-2.1.4.js"; type="text/javascript"></script>
<script src="@routes.Assets.versioned("javascripts/render.js")"; type="text/javascript"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>

@main("Data Analytics")(searchForm)(user)(bool)(personaForm)(img)(interestForm)(personas)(interests)(i){
  <div id="Search Analytics">
  	<h3>Data Analytics:</h3>
  	<div id="container" style="width:100%; height:400px;">
  		<script>

			Highcharts.chart('container', {
			    chart: {
			        plotBackgroundColor: null,
			        plotBorderWidth: null,
			        plotShadow: false,
			        type: 'pie'
			    },
			    title: {
			        text: 'Sentiment'
			    },
			    tooltip: {
			        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
			    },
			    plotOptions: {
			        pie: {
			            allowPointSelect: true,
			            cursor: 'pointer',
			            point: {
			                events: {
			                    click: function () {
			                        location.href = window.location.href + '/' +
			                            this.options.key;
			                    }
			                }
			            },

			            dataLabels: {
			                enabled: true,
			                format: '<b>{point.name}</b>: {point.percentage:.1f} %',
			                style: {
			                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
			                }
			            }
			        }
			    },

			    series: [{
			        name: 'Sentiment',
			        colorByPoint: true,
			        data: [{
			            name: 'Positive',
			            y: @posSize,
			            key: 'positive',
			        }, {
			            name: 'Negative',
			            y: @negSize,
			            key: 'negative',
			        }]
			    }]
			});
  		</script>
  	</div>
  
}

