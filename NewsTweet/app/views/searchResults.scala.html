@(searchForm: Form[Search], trackForm: Form[Track], user: String, bool: Integer, tweets: List[String], popTweets: List[String], recentTweets: List[String], personaForm: Form[Persona], img: String, interestForm: Form[Interest], term: String, personas: List[String], interests: List[String])

@import helper._
@implicitFieldConstructor = @{ b4.horizontal.fieldConstructor("col-md-2", "col-md-10") }  // Declares a horizontal field constructor as default

<script sync src="https://platform.twitter.com/widgets.js"></script>
<script src="http://code.jquery.com/jquery-2.1.4.js"; type="text/javascript"></script>
<script src="@routes.Assets.versioned("javascripts/render.js")"; type="text/javascript"></script>

@main("Search Results")(searchForm)(user)(bool)(personaForm)(img)(interestForm)(personas)(interests) {
  	<h3>Search Results for @term:</h3>
  	  <ul class="nav nav-tabs">
        <li class="nav-item tab_item">
            <a class="nav-link active search_result" onclick="openTab(event, 'popular')">Popular</a> 
          </li>
          <li class="nav-item tab_item">
            <a class="nav-link search_result" onclick="openTab(event, 'recent')">Recent</a>
          </li>
        </ul>
          <div id="popular" class="tweets">
            <br>
            <div class="card-columns">
              @for((tweet) <- popTweets){
                <div class="card" id="@tweet"><br></div>
                <script>
                  rendering("@tweet");
                </script>
              }
              </div>
          </div>
      
          <div id="recent" class="tweets">
            <br>
            <div class="card-columns">
              @for(tweet <- recentTweets){
                <div class="card"  id="@tweet"><br></div>
                <script>
                  rendering("@tweet");
                </script>
              }
            </div>
          </div>

          <div class="fixed-bottom" id="footer">
            <button type="button" id="track_btn" class="btn btn-primary" data-toggle="modal" data-target="#trackModal">Track Search</button>
          </div>
          

          <!-- Modal -->
          <div class="modal fade" id="trackModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="interest-label">Track Search</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <div id="track">
                    @b4.form(action=routes.TrackController.trackSearch()){

                        @b4.text(trackForm("term").copy(value= Option[String](term)),
                          '_label -> "Search Term")

                        @b4.select(
                           trackForm("interest"),
                           helper.options(interests),
                           '_label -> "Interest"
                        )
                </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  <button class="btn btn-primary" type="submit">Save changes</button>
              }
                </div>
              </div>
            </div>
          </div>
}

