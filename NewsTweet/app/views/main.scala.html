@*
 * This template is called from the `index` template. This template
 * handles the rendering of the page header and body tags. It takes
 * two arguments, a `String` for the title of the page and an `Html`
 * object to insert into the body of the page.
 *@

@import helper._
@(title: String)(searchForm: Form[Search])(user: String)(bool: Integer)(personaForm: Form[Persona])(img: String)(interestForm: Form[Interest])(personas: List[String])(interests: List[String])(content: Html)

<!DOCTYPE html>
<html lang="en">
    <head>
        @* Here's where we render the page title `String`. *@
        <title>@title</title>
        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/main.css")">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.versioned("images/favicon.png")">
    </head>
    <body>
        <table>
            <tr id="head">
                <th width="15%">
                    <div id="title">
                        <a href="/"> <h1> NewsTweet </h1></a>
                    </div>
                </th>
                <th>
                    <div id="search">
                        @helper.form(action=routes.SearchController.searchResults()){

                            @helper.inputText(searchForm("searchTerm"),
                                'placeholder -> "Search ...",
                                '_label -> null)

                            @helper.inputRadioGroup(searchForm("searchType"), 
                                Seq("User" -> "User", "Hashtag" -> "Hashtag", "Content" -> "Content"), 
                                '_label -> null)
                         }
                    </div>
                </th>
                <th>
                    <div id="user">
                        @if(bool==1){
                            <img id="user_pic" src=@img onmouseover="document.getElementById('user_options').style.display = 'block';" onclick="document.getElementById('user_options').style.display = 'none';">
                        }else{ 
                            <a href="/twitter/signin"><img src="@routes.Assets.versioned("images/twitterlogin.png")" width="60%" border="0px" > </a>
                        }
                    </div>
                </th>
            </tr>
            @if(personas.isEmpty){
            }else{
            <tr id="head2">
                <div id="tabs">
                    @if(bool==1 ){
                        @for(persona <- personas){
                            <button class="persona" onclick="openCity(event, '@persona')">@persona</button>
                        }
                    }
                    </div>
            </tr>
            }
            <tr>
                <td height=100% valign="top" width=269>
                    <div id="sidebar"  style="margin-top:95px">
                        <h3> Interests </h3>
                        @if(bool==1){
                            @if(interests.isEmpty){
                                Looks like you don't have any interests yet!<br><br> Would you like to add one?<br><br>
                            }else{
                                @for(persona <- personas){
                                    <div id="@persona" class="city">
                                        @for(interest <- interests){
                                            @if(interest contains persona){
                                                @interest.replace(persona,"")<br>
                                            }
                                        }
                                    </div>
                                }
                            }
                            <button onclick="document.getElementById('interest_form').style.display = 'block'; this.style.display = 'none'">Add Interest</button>
                            <div id="interest_form">
                                @helper.form(action=routes.InterestController.addInterest()){

                                    @helper.inputText(interestForm("interestName"),
                                        'placeholder -> "Interest Name",
                                        '_label -> null,
                                        'size -> 8)

                                    @helper.select(
                                       interestForm("personaName"),
                                       helper.options(personas),
                                       '_label -> null
                                    )
                                }
                            </div>
                        }else{ 
                            Here are some sample interests. Sign in to create your own!
                        }
                </div>
                </td>
                <td valign="top">
                    <div id="content"  style="margin-top:110px; z-index: -1">
                    @* And here's where we render the `Html` object containing
                     * the page content. *@
                    @content
                </div>
                </td>
                <td td valign="top">
                    <div id="user_options">
                        <i>@(user)</i>
                        <br> 
                        <button onclick="document.getElementById('persona_form').style.display = 'block'; this.style.display = 'none'">Add Persona</button>
                        <div id="persona_form">
                            @helper.form(action=routes.PersonaController.addPersona()){

                                @helper.inputText(personaForm("personaName"),
                                    'placeholder -> "Persona Name",
                                    '_label -> null,
                                    'size -> 8)

                            }
                        </div>
                        <a href="/logout"><button> Logout </button></a>
                    </div>
                </td>
        </table>

        <script src="@routes.Assets.versioned("javascripts/main.js")" type="text/javascript"></script>
    </body>

</html>
